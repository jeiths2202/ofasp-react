2025-08-02 04:00:10 [WARNING] Failed to load sessions: name 'active_terminals' is not defined
2025-08-02 04:00:10 [WARNING] Encoding API not available: HTTPConnectionPool(host='localhost', port=8081): Max retries exceeded with url: /health (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7c5ecc2fa5f0>: Failed to establish a new connection: [Errno 111] Connection refused'))
2025-08-02 04:00:10 [INFO] OpenASP API Server v0.5.1 starting...
2025-08-02 04:00:10 [INFO] Enhanced with Multi-Type Program Support (JAVA, COBOL, SHELL)
2025-08-02 04:00:10 [INFO] Fixed configuration loading and error handling
2025-08-02 04:00:10 [INFO] SMED directory: /home/aspuser/app/public/SMED_FILES
2025-08-02 04:00:10 [INFO] Account file: /home/aspuser/app/src/account.json
2025-08-02 04:00:10 [INFO] SMED-PGM file: /home/aspuser/app/src/smed_pgm.json
2025-08-02 04:00:10 [INFO] MAP-PGM file: /home/aspuser/app/src/map_pgm.json
2025-08-02 04:00:10 [INFO] JAR file: /home/aspuser/app/server/java_jars/ofasp.jar
2025-08-02 04:00:10 [INFO] Loaded 4 user accounts
2025-08-02 04:00:10 [INFO] Loaded SMED-PGM config: 20 valid maps
2025-08-02 04:00:10 [INFO]   MENU: JAVA -> com.openasp.menu.MenuProgram
2025-08-02 04:00:10 [INFO]   LOGO: JAVA -> com.openasp.login.LoginProgram
2025-08-02 04:00:10 [INFO]   PGM1: JAVA -> com.openasp.core.PGM1
2025-08-02 04:00:10 [INFO]   PGM2: JAVA -> com.openasp.core.PGM2
2025-08-02 04:00:10 [INFO]   EIGYO001: JAVA -> com.openasp.eigyo.EIGYO001
2025-08-02 04:00:10 [INFO]   EIGYO002: JAVA -> com.openasp.eigyo.EIGYO002
2025-08-02 04:00:10 [INFO]   NOHINO001: COBOL -> /home/aspuser/app/server/cobol_modules/NOHIN001.so
2025-08-02 04:00:10 [INFO]   NOHINO002: SHELL -> /home/aspuser/app/server/shell_modules/NOHIN002.sh
2025-08-02 04:00:10 [INFO]   ZAIKO001: COBOL -> /home/aspuser/app/server/cobol_modules/ZAIKO001.so
2025-08-02 04:00:10 [INFO]   BATCH001: SHELL -> /home/aspuser/app/server/shell_modules/BATCH001.sh
2025-08-02 04:00:10 [INFO]   URIAGE001: JAVA -> com.openasp.uriage.URIAGE001
2025-08-02 04:00:10 [INFO]   REPORT001: SHELL -> /home/aspuser/app/server/shell_modules/REPORT001.sh
2025-08-02 04:00:10 [INFO]   USER001: JAVA -> com.openasp.user.UserManagement
2025-08-02 04:00:10 [INFO]   SYSTEM001: JAVA -> com.openasp.system.SystemInfo
2025-08-02 04:00:10 [INFO]   LOGOUT: JAVA -> com.openasp.system.LogoutProgram
2025-08-02 04:00:10 [INFO]   MAIN001: JAVA -> com.openasp.sample.PGM000
2025-08-02 04:00:10 [INFO]   MENU001: JAVA -> com.openasp.sample.PGM001
2025-08-02 04:00:10 [INFO]   MENU003: JAVA -> com.openasp.sample.PGM002
2025-08-02 04:00:10 [INFO]   MENU004: JAVA -> com.openasp.sample.PGM003
2025-08-02 04:00:10 [INFO]   MENU005: JAVA -> com.openasp.sample.PGM004
2025-08-02 04:00:10 [INFO] ? Configuration loaded successfully
2025-08-02 04:00:10 [INFO] ?? SMED Files: 1
2025-08-02 04:00:10 [INFO] ?? User Accounts: 4
2025-08-02 04:00:10 [INFO] ???  SMED-PGM Maps: 20
2025-08-02 04:00:10 [INFO] ? Java Available: True
2025-08-02 04:00:10 [INFO] ?? JAR File: /home/aspuser/app/server/java_jars/ofasp.jar (EXISTS)
2025-08-02 04:00:10 [INFO] ?? OpenASP SMED API Server ready!
2025-08-02 04:00:10 [INFO] ?? WebSocket support enabled for real-time terminal communication
2025-08-02 04:00:10 [WARNING] Werkzeug appears to be used in a production deployment. Consider switching to a production web server instead.
 * Serving Flask app 'api_server'
 * Debug mode: off
2025-08-02 04:00:10 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://172.20.0.2:8000
2025-08-02 04:00:10 [INFO] [33mPress CTRL+C to quit[0m
2025-08-02 04:00:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:00:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:01:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:01:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "GET /socket.io/?transport=polling&EIO=4&t=1754107365.1337314 HTTP/1.1" 200 -
http://localhost:8000 is not an accepted origin. (further occurrences of this error will be logged with level INFO)
2025-08-02 04:02:45 [ERROR] http://localhost:8000 is not an accepted origin. (further occurrences of this error will be logged with level INFO)
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA&t=1754107365.14131 HTTP/1.1[0m" 400 -
2025-08-02 04:02:45 [INFO] [WEBSOCKET] Client connected: OQi4S57E-KpuchIGAAAB
2025-08-02 04:02:45 [INFO] [WEBSOCKET] Connection details: {'session_id': 'OQi4S57E-KpuchIGAAAB', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:02:45.146402'}
2025-08-02 04:02:45 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "POST /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA HTTP/1.1" 200 -
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "GET /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA&t=1754107365.144402 HTTP/1.1" 200 -
2025-08-02 04:02:45 [INFO] [HUB_REGISTER] React client Hub registration received: OQi4S57E-KpuchIGAAAB
2025-08-02 04:02:45 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:02:45 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:02:45 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "POST /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA HTTP/1.1" 200 -
2025-08-02 04:02:45 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:45] "GET /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA&t=1754107365.1503375 HTTP/1.1" 200 -
2025-08-02 04:02:48 [INFO] [WEBSOCKET] Client disconnected: OQi4S57E-KpuchIGAAAB
2025-08-02 04:02:48 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:02:48 [INFO] [WEBSOCKET] Removed terminal mapping: webui
2025-08-02 04:02:48 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:02:48 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:48] "POST /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA HTTP/1.1" 200 -
2025-08-02 04:02:48 [INFO] 127.0.0.1 - - [02/Aug/2025 04:02:48] "GET /socket.io/?transport=polling&EIO=4&sid=YwLQuXy5PoxGPl0LAAAA&t=1754107365.15722 HTTP/1.1" 200 -
2025-08-02 04:02:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:02:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "GET /socket.io/?transport=polling&EIO=4&t=1754107392.1978543 HTTP/1.1" 200 -
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=gedmx_dT2kNtRuF_AAAC&t=1754107392.2042975 HTTP/1.1[0m" 400 -
2025-08-02 04:03:12 [INFO] [WEBSOCKET] Client connected: UO4nW9-XnE3xYn4uAAAD
2025-08-02 04:03:12 [INFO] [WEBSOCKET] Connection details: {'session_id': 'UO4nW9-XnE3xYn4uAAAD', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:03:12.211889'}
2025-08-02 04:03:12 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "POST /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC HTTP/1.1" 200 -
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "GET /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC&t=1754107392.2081263 HTTP/1.1" 200 -
2025-08-02 04:03:12 [INFO] [HUB_REGISTER] React client Hub registration received: UO4nW9-XnE3xYn4uAAAD
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "POST /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC HTTP/1.1" 200 -
2025-08-02 04:03:12 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:03:12 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:03:12 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:03:12 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:12] "GET /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC&t=1754107392.2154107 HTTP/1.1" 200 -
2025-08-02 04:03:17 [INFO] [WEBSOCKET] Client disconnected: UO4nW9-XnE3xYn4uAAAD
2025-08-02 04:03:17 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:03:17 [INFO] [WEBSOCKET] Removed terminal mapping: webui
2025-08-02 04:03:17 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:03:17 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:17] "POST /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC HTTP/1.1" 200 -
2025-08-02 04:03:17 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:17] "GET /socket.io/?transport=polling&EIO=4&sid=gedmx_dT2kNtRuF_AAAC&t=1754107392.223639 HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "OPTIONS /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Client connected: rHAJOg5hjDirzVo6AAAG
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "OPTIONS /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Connection details: {'session_id': 'rHAJOg5hjDirzVo6AAAG', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:03:54.580985'}
2025-08-02 04:03:54 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:03:54 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Client connected: fkjlJ11mrCvwUPEaAAAI
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Connection details: {'session_id': 'fkjlJ11mrCvwUPEaAAAI', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:03:54.597251'}
2025-08-02 04:03:54 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:03:54 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:03:54 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:03:54 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Client connected: h1WbDtiuyXms11m_AAAJ
2025-08-02 04:03:54 [INFO] [WEBSOCKET] Connection details: {'session_id': 'h1WbDtiuyXms11m_AAAJ', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:03:54.619309'}
2025-08-02 04:03:54 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client Hub registration received: h1WbDtiuyXms11m_AAAJ
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:03:54 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client Hub registration received: h1WbDtiuyXms11m_AAAJ
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:03:54 [INFO] ASP command completed successfully
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:03:54 [INFO] ASP command completed successfully
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:03:54 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client Hub registration received: h1WbDtiuyXms11m_AAAJ
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:03:54 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:03:54 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:03:54 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:03:54 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:03:54 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:03:54 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:03:54 [INFO] ASP command completed successfully
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:54 [INFO] ASP command completed successfully
2025-08-02 04:03:54 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:03:54 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:54] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] Received ASP command request: CALL PGM-MAIN001.JAVA,VOL-DISK01 from user: admin
2025-08-02 04:03:57 [INFO] [INFO] ASP_COMMAND: Executing command: CALL PGM-MAIN001.JAVA,VOL-DISK01
2025-08-02 04:03:57 [INFO] Executing ASP command: CALL PGM-MAIN001.JAVA,VOL-DISK01 for user: admin
2025-08-02 04:03:57 [INFO] ASP command completed successfully
2025-08-02 04:03:57 [INFO] [INFO] ASP_COMMAND: Command completed successfully: CALL PGM-MAIN001.JAVA,VOL-DISK01
2025-08-02 04:03:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:57] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:57] "OPTIONS /api/logs HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] [INFO] ASP System Command: [CALL PGM-MAIN001.JAVA,VOL-DISK01] [INFO] Job processor worker started
[DEBUG] Checking for pending jobs in database...
[INFO] Job processor thread started
[DEBUG] Connecting to database to get active jobs...
[DEBUG] Executing query: 
                SELECT * FROM jobs 
                WHERE status IN ('PENDING', 'RUNNING', 'HELD')
                   OR (status IN ('COMPLETED', 'ERROR', 'CANCELLED') 
                       AND datetime(end_time) > datetime('now', '-1 hour'))
                ORDER BY submitted_time DESC
            
[DEBUG] Found 0 jobs in database
[DEBUG] Returning 0 active jobs
[DEBUG] Total jobs in database: 0
[DEBUG] Found 0 pending jobs
[DEBUG] No pending jobs found, waiting 5 seconds...
[CALL_TRACE] === CALL Function Start ===
[CALL_TRACE] Timestamp: 2025-08-02 04:03:57.361022
[CALL_DEBUG] Input command: 'CALL PGM-MAIN001.JAVA,VOL-DISK01'
[CALL_DEBUG] PGMEC reset complete
[CALL_DEBUG] Stripped command: 'PGM-MAIN001.JAVA,VOL-DISK01'
[CALL_TRACE] Starting command parsing...
[CALL_DEBUG] Parsing command string character by character...
[CALL_DEBUG] Found part: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] Final part: 'VOL-DISK01'
[CALL_DEBUG] Total parts found: 2
[CALL_DEBUG] Part 0: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] Part 1: 'VOL-DISK01'
[CALL_TRACE] Processing command parts...
[CALL_DEBUG] Processing part: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] PGM specification: 'MAIN001.JAVA'
[CALL_DEBUG] Extracted program: 'MAIN001', library: 'JAVA'
[CALL_DEBUG] Processing part: 'VOL-DISK01'
[CALL_DEBUG] Extracted volume: 'DISK01'
[CALL_DEBUG] Final parsed values:
[CALL_DEBUG] - Program: 'MAIN001'
[CALL_DEBUG] - Library: 'JAVA'
[CALL_DEBUG] - Volume: 'DISK01'
[CALL_DEBUG] - Parameters: ''
[INFO] Calling program: MAIN001
[INFO] Library: JAVA
[INFO] Volume: DISK01
[INFO] Parameters: None
[CALL_TRACE] Loading catalog information...
[CALL_DEBUG] Catalog loaded, checking registration...
[CALL_DEBUG] Program info retrieved: {'TYPE': 'PGM', 'PGMTYPE': 'JAVA', 'PGMNAME': 'MAIN001', 'CLASSFILE': 'MAIN001.class', 'SOURCEFILE': 'MAIN001.java', 'DESCRIPTION': 'MAIN001 for ASP system execution - 8-byte naming convention compliant', 'VERSION': '1.0', 'CREATED': '2025-08-01T16:30:00Z', 'UPDATED': '2025-08-01T16:45:00Z', 'ORIGINAL_SOURCE': 'MAIN001.cob', 'ENCODING': 'UTF-8', 'NAMING_CONVENTION': '8BYTE', 'CLASS_NAME': 'MAIN001', 'PROGRAM_TYPE': '8BYTE_JAVA', 'JAPANESE_SUPPORT': True, 'MAIN_METHOD': True, 'ASP_READY': True, 'DEPENDENCIES': 'NONE', 'EXECUTION_MODE': 'STANDALONE'}
[CALL_DEBUG] Program type: JAVA
[INFO] Program type: JAVA
[CALL_TRACE] Executing program based on type: JAVA
[CALL_DEBUG] Calling _call_java_program...
[INFO] Executing Java command: java -Dfile.encoding=UTF-8 -cp /home/aspuser/app/volume/DISK01/JAVA MAIN001
[INFO] Starting interactive Java program in background: MAIN001
[INFO] Interactive Java program MAIN001 started successfully
[CALL_DEBUG] Program execution result: True
[CALL_TRACE] === CALL Function End (success=True) ===
2025-08-02 04:03:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:57] "POST /api/logs HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "GET /socket.io/?transport=polling&EIO=4&t=1754107437.782305 HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK&t=1754107437.7899308 HTTP/1.1[0m" 400 -
2025-08-02 04:03:57 [INFO] [WEBSOCKET] Client connected: F5hH37EWvcWhhbFfAAAL
2025-08-02 04:03:57 [INFO] [WEBSOCKET] Connection details: {'session_id': 'F5hH37EWvcWhhbFfAAAL', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:03:57.796411'}
2025-08-02 04:03:57 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "POST /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "GET /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK&t=1754107437.7936432 HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] [HUB_CLIENT_REG] Hub client registration received: F5hH37EWvcWhhbFfAAAL
2025-08-02 04:03:57 [INFO] [HUB_CLIENT_REG] Registration data: {'client_type': 'hub_client', 'client_id': 'hub_client_136551352282768', 'capabilities': ['smed_data_transmission'], 'timestamp': '2025-08-02T04:03:57.803012'}
2025-08-02 04:03:57 [INFO] [HUB_CLIENT_REG] Client registered successfully: hub_client_136551352282768
2025-08-02 04:03:57 [INFO] [INFO] HUB_CLIENT: Hub client registered: hub_client_136551352282768
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "POST /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "GET /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK&t=1754107437.802638 HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Direct SMED data received: {'event': 'smed_data_direct', 'session_id': 'F5hH37EWvcWhhbFfAAAL', 'timestamp': '2025-08-02T04:03:57.817737', 'source': 'websocket_hub'}
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Processing direct SMED data: {'event': 'smed_data_direct', 'session_id': 'F5hH37EWvcWhhbFfAAAL', 'timestamp': '2025-08-02T04:03:57.817737', 'source': 'websocket_hub', 'terminal_id': 'webui', 'map_file': 'MAIN001', 'fields_count': 7, 'program_name': 'MAIN001', 'source_type': 'json'}
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Centralized SMED transmission to terminal: webui
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Active terminals: ['h1WbDtiuyXms11m_AAAJ', 'F5hH37EWvcWhhbFfAAAL']
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Terminal mappings: {'webui': 'h1WbDtiuyXms11m_AAAJ'}
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Terminal webui Å® Session h1WbDtiuyXms11m_AAAJ Å® Room terminal_webui
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "POST /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK HTTP/1.1" 200 -
2025-08-02 04:03:57 [INFO] [WEBSOCKET_HUB] Single-channel SMED data sent to room: terminal_webui
2025-08-02 04:03:57 [INFO] [INFO] WEBSOCKET_HUB: Hub transmission successful: webui
2025-08-02 04:03:57 [INFO] [INFO] WEBSOCKET_HUB: Direct SMED data processed: webui
2025-08-02 04:03:57 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:57] "GET /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK&t=1754107437.8142743 HTTP/1.1" 200 -
2025-08-02 04:03:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:03:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:03:58 [INFO] [WEBSOCKET] Client disconnected: F5hH37EWvcWhhbFfAAAL
2025-08-02 04:03:58 [INFO] [WEBSOCKET] Cleaning up terminal registration: hub_client_136551352282768
2025-08-02 04:03:58 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:03:58 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:58] "POST /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK HTTP/1.1" 200 -
2025-08-02 04:03:58 [INFO] 127.0.0.1 - - [02/Aug/2025 04:03:58] "GET /socket.io/?transport=polling&EIO=4&sid=KZ8y50JS7Og5uwmRAAAK&t=1754107437.8251376 HTTP/1.1" 200 -
2025-08-02 04:04:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:04:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:05:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:05:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:06:45 [INFO] [WEBSOCKET] Client disconnected: fkjlJ11mrCvwUPEaAAAI
2025-08-02 04:06:45 [INFO] [WEBSOCKET] Client disconnected: h1WbDtiuyXms11m_AAAJ
2025-08-02 04:06:45 [INFO] [WEBSOCKET] Client disconnected: rHAJOg5hjDirzVo6AAAG
2025-08-02 04:06:45 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:06:45 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:06:45 [INFO] [WEBSOCKET] Removed terminal mapping: webui
2025-08-02 04:06:45 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:45] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:06:45 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:06:45 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:06:45 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:45] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:06:45 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:45] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:06:45 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:06:45 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:06:45 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:06:51 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:51] "OPTIONS /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:06:51 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:06:51 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:06:51 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:06:51 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:06:51 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:06:51 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:06:51 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:51] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:06:51 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Client connected: 3qbHYb8eYQTztFpLAAAQ
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Connection details: {'session_id': '3qbHYb8eYQTztFpLAAAQ', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:06:51.779400'}
2025-08-02 04:06:51 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Client connected: 5uzypFDNq0yBEbBZAAAR
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Connection details: {'session_id': '5uzypFDNq0yBEbBZAAAR', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:06:51.786340'}
2025-08-02 04:06:51 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Client connected: YF2JiMv797DQmGOQAAAS
2025-08-02 04:06:51 [INFO] [WEBSOCKET] Connection details: {'session_id': 'YF2JiMv797DQmGOQAAAS', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:06:51.789227'}
2025-08-02 04:06:51 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client Hub registration received: YF2JiMv797DQmGOQAAAS
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:06:51 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client Hub registration received: YF2JiMv797DQmGOQAAAS
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:06:51 [INFO] ASP command completed successfully
2025-08-02 04:06:51 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:06:51 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client Hub registration received: YF2JiMv797DQmGOQAAAS
2025-08-02 04:06:51 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:51] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:06:51 [INFO] ASP command completed successfully
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:06:51 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:06:51 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:06:51 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:51] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:06:52 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:06:52 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:06:52 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:06:52 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:06:52 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:06:52 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:06:52 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:06:52 [INFO] ASP command completed successfully
2025-08-02 04:06:52 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:06:52 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:52] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:06:52 [INFO] ASP command completed successfully
2025-08-02 04:06:52 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:06:52 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:52] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:06:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:06:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:07:03 [INFO] 172.20.0.1 - - [02/Aug/2025 04:07:03] "OPTIONS /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:07:03 [INFO] Received ASP command request: CALL PGM-MAIN001.JAVA,VOL-DISK01 from user: admin
2025-08-02 04:07:03 [INFO] [INFO] ASP_COMMAND: Executing command: CALL PGM-MAIN001.JAVA,VOL-DISK01
2025-08-02 04:07:03 [INFO] Executing ASP command: CALL PGM-MAIN001.JAVA,VOL-DISK01 for user: admin
2025-08-02 04:07:04 [INFO] ASP command completed successfully
2025-08-02 04:07:04 [INFO] [INFO] ASP_COMMAND: Command completed successfully: CALL PGM-MAIN001.JAVA,VOL-DISK01
2025-08-02 04:07:04 [INFO] 172.20.0.1 - - [02/Aug/2025 04:07:04] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] 172.20.0.1 - - [02/Aug/2025 04:07:04] "OPTIONS /api/logs HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] [INFO] ASP System Command: [CALL PGM-MAIN001.JAVA,VOL-DISK01] [INFO] Job processor worker started
[DEBUG] Checking for pending jobs in database...
[INFO] Job processor thread started
[DEBUG] Connecting to database to get active jobs...
[DEBUG] Executing query: 
                SELECT * FROM jobs 
                WHERE status IN ('PENDING', 'RUNNING', 'HELD')
                   OR (status IN ('COMPLETED', 'ERROR', 'CANCELLED') 
                       AND datetime(end_time) > datetime('now', '-1 hour'))
                ORDER BY submitted_time DESC
            
[DEBUG] Found 0 jobs in database
[DEBUG] Returning 0 active jobs
[DEBUG] Total jobs in database: 0
[DEBUG] Found 0 pending jobs
[DEBUG] No pending jobs found, waiting 5 seconds...
[CALL_TRACE] === CALL Function Start ===
[CALL_TRACE] Timestamp: 2025-08-02 04:07:04.036530
[CALL_DEBUG] Input command: 'CALL PGM-MAIN001.JAVA,VOL-DISK01'
[CALL_DEBUG] PGMEC reset complete
[CALL_DEBUG] Stripped command: 'PGM-MAIN001.JAVA,VOL-DISK01'
[CALL_TRACE] Starting command parsing...
[CALL_DEBUG] Parsing command string character by character...
[CALL_DEBUG] Found part: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] Final part: 'VOL-DISK01'
[CALL_DEBUG] Total parts found: 2
[CALL_DEBUG] Part 0: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] Part 1: 'VOL-DISK01'
[CALL_TRACE] Processing command parts...
[CALL_DEBUG] Processing part: 'PGM-MAIN001.JAVA'
[CALL_DEBUG] PGM specification: 'MAIN001.JAVA'
[CALL_DEBUG] Extracted program: 'MAIN001', library: 'JAVA'
[CALL_DEBUG] Processing part: 'VOL-DISK01'
[CALL_DEBUG] Extracted volume: 'DISK01'
[CALL_DEBUG] Final parsed values:
[CALL_DEBUG] - Program: 'MAIN001'
[CALL_DEBUG] - Library: 'JAVA'
[CALL_DEBUG] - Volume: 'DISK01'
[CALL_DEBUG] - Parameters: ''
[INFO] Calling program: MAIN001
[INFO] Library: JAVA
[INFO] Volume: DISK01
[INFO] Parameters: None
[CALL_TRACE] Loading catalog information...
[CALL_DEBUG] Catalog loaded, checking registration...
[CALL_DEBUG] Program info retrieved: {'TYPE': 'PGM', 'PGMTYPE': 'JAVA', 'PGMNAME': 'MAIN001', 'CLASSFILE': 'MAIN001.class', 'SOURCEFILE': 'MAIN001.java', 'DESCRIPTION': 'MAIN001 for ASP system execution - 8-byte naming convention compliant', 'VERSION': '1.0', 'CREATED': '2025-08-01T16:30:00Z', 'UPDATED': '2025-08-01T16:45:00Z', 'ORIGINAL_SOURCE': 'MAIN001.cob', 'ENCODING': 'UTF-8', 'NAMING_CONVENTION': '8BYTE', 'CLASS_NAME': 'MAIN001', 'PROGRAM_TYPE': '8BYTE_JAVA', 'JAPANESE_SUPPORT': True, 'MAIN_METHOD': True, 'ASP_READY': True, 'DEPENDENCIES': 'NONE', 'EXECUTION_MODE': 'STANDALONE'}
[CALL_DEBUG] Program type: JAVA
[INFO] Program type: JAVA
[CALL_TRACE] Executing program based on type: JAVA
[CALL_DEBUG] Calling _call_java_program...
[INFO] Executing Java command: java -Dfile.encoding=UTF-8 -cp /home/aspuser/app/volume/DISK01/JAVA MAIN001
[INFO] Starting interactive Java program in background: MAIN001
[INFO] Interactive Java program MAIN001 started successfully
[CALL_DEBUG] Program execution result: True
[CALL_TRACE] === CALL Function End (success=True) ===
2025-08-02 04:07:04 [INFO] 172.20.0.1 - - [02/Aug/2025 04:07:04] "POST /api/logs HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "GET /socket.io/?transport=polling&EIO=4&t=1754107624.662573 HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=hwfim27PrkPrXAnfAAAT&t=1754107624.666794 HTTP/1.1[0m" 400 -
2025-08-02 04:07:04 [INFO] [WEBSOCKET] Client connected: q5pD3wX749lPFBF8AAAU
2025-08-02 04:07:04 [INFO] [WEBSOCKET] Connection details: {'session_id': 'q5pD3wX749lPFBF8AAAU', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:07:04.672054'}
2025-08-02 04:07:04 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "POST /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "GET /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT&t=1754107624.6700535 HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] [HUB_CLIENT_REG] Hub client registration received: q5pD3wX749lPFBF8AAAU
2025-08-02 04:07:04 [INFO] [HUB_CLIENT_REG] Registration data: {'client_type': 'hub_client', 'client_id': 'hub_client_128938088787600', 'capabilities': ['smed_data_transmission'], 'timestamp': '2025-08-02T04:07:04.676303'}
2025-08-02 04:07:04 [INFO] [HUB_CLIENT_REG] Client registered successfully: hub_client_128938088787600
2025-08-02 04:07:04 [INFO] [INFO] HUB_CLIENT: Hub client registered: hub_client_128938088787600
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "POST /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "GET /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT&t=1754107624.6753428 HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Direct SMED data received: {'event': 'smed_data_direct', 'session_id': 'q5pD3wX749lPFBF8AAAU', 'timestamp': '2025-08-02T04:07:04.686294', 'source': 'websocket_hub'}
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Processing direct SMED data: {'event': 'smed_data_direct', 'session_id': 'q5pD3wX749lPFBF8AAAU', 'timestamp': '2025-08-02T04:07:04.686294', 'source': 'websocket_hub', 'terminal_id': 'webui', 'map_file': 'MAIN001', 'fields_count': 7, 'program_name': 'MAIN001', 'source_type': 'json'}
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Centralized SMED transmission to terminal: webui
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Active terminals: ['YF2JiMv797DQmGOQAAAS', 'q5pD3wX749lPFBF8AAAU']
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Terminal mappings: {'webui': 'YF2JiMv797DQmGOQAAAS'}
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Terminal webui Å® Session YF2JiMv797DQmGOQAAAS Å® Room terminal_webui
2025-08-02 04:07:04 [INFO] [WEBSOCKET_HUB] Single-channel SMED data sent to room: terminal_webui
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "POST /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] [INFO] WEBSOCKET_HUB: Hub transmission successful: webui
2025-08-02 04:07:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:04] "GET /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT&t=1754107624.6839075 HTTP/1.1" 200 -
2025-08-02 04:07:04 [INFO] [INFO] WEBSOCKET_HUB: Direct SMED data processed: webui
2025-08-02 04:07:05 [INFO] [WEBSOCKET] Client disconnected: q5pD3wX749lPFBF8AAAU
2025-08-02 04:07:05 [INFO] [WEBSOCKET] Cleaning up terminal registration: hub_client_128938088787600
2025-08-02 04:07:05 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:07:05 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:05] "POST /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT HTTP/1.1" 200 -
2025-08-02 04:07:05 [INFO] 127.0.0.1 - - [02/Aug/2025 04:07:05] "GET /socket.io/?transport=polling&EIO=4&sid=hwfim27PrkPrXAnfAAAT&t=1754107624.6905391 HTTP/1.1" 200 -
2025-08-02 04:07:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:07:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:08:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:08:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "GET /socket.io/?transport=polling&EIO=4&t=1754107779.4962494 HTTP/1.1" 200 -
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=SQjAugJGEFaFqnShAAAV&t=1754107779.5011656 HTTP/1.1[0m" 400 -
2025-08-02 04:09:39 [INFO] [WEBSOCKET] Client connected: iyYmCxAadgFjjF5yAAAW
2025-08-02 04:09:39 [INFO] [WEBSOCKET] Connection details: {'session_id': 'iyYmCxAadgFjjF5yAAAW', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:09:39.507898'}
2025-08-02 04:09:39 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "POST /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV HTTP/1.1" 200 -
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "GET /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV&t=1754107779.5047529 HTTP/1.1" 200 -
2025-08-02 04:09:39 [INFO] [HUB_REGISTER] React client Hub registration received: iyYmCxAadgFjjF5yAAAW
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "POST /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV HTTP/1.1" 200 -
2025-08-02 04:09:39 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:09:39 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:09:39 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:09:39 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:39] "GET /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV&t=1754107779.512097 HTTP/1.1" 200 -
2025-08-02 04:09:42 [INFO] [WEBSOCKET] Client disconnected: iyYmCxAadgFjjF5yAAAW
2025-08-02 04:09:42 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:09:42 [INFO] [WEBSOCKET] Removed terminal mapping: webui
2025-08-02 04:09:42 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:09:42 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:42] "POST /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV HTTP/1.1" 200 -
2025-08-02 04:09:42 [INFO] 127.0.0.1 - - [02/Aug/2025 04:09:42] "GET /socket.io/?transport=polling&EIO=4&sid=SQjAugJGEFaFqnShAAAV&t=1754107779.5174665 HTTP/1.1" 200 -
2025-08-02 04:09:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:09:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:10:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:10:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "GET /socket.io/?transport=polling&EIO=4&t=1754107879.9611127 HTTP/1.1" 200 -
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX&t=1754107879.966378 HTTP/1.1[0m" 400 -
2025-08-02 04:11:19 [INFO] [WEBSOCKET] Client connected: fClOtNjRmrQXzP0oAAAY
2025-08-02 04:11:19 [INFO] [WEBSOCKET] Connection details: {'session_id': 'fClOtNjRmrQXzP0oAAAY', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:11:19.972231'}
2025-08-02 04:11:19 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "POST /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX HTTP/1.1" 200 -
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "GET /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX&t=1754107879.9695203 HTTP/1.1" 200 -
2025-08-02 04:11:19 [INFO] [HUB_REGISTER] React client Hub registration received: fClOtNjRmrQXzP0oAAAY
2025-08-02 04:11:19 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:11:19 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:11:19 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "POST /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX HTTP/1.1" 200 -
2025-08-02 04:11:19 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:19] "GET /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX&t=1754107879.9767036 HTTP/1.1" 200 -
2025-08-02 04:11:24 [INFO] [WEBSOCKET] Client disconnected: fClOtNjRmrQXzP0oAAAY
2025-08-02 04:11:24 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:11:24 [INFO] [WEBSOCKET] Removed terminal mapping: webui
2025-08-02 04:11:24 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:11:24 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:24] "POST /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX HTTP/1.1" 200 -
2025-08-02 04:11:24 [INFO] 127.0.0.1 - - [02/Aug/2025 04:11:24] "GET /socket.io/?transport=polling&EIO=4&sid=qY6WoAr1s_cAQw0OAAAX&t=1754107879.981965 HTTP/1.1" 200 -
2025-08-02 04:11:57 [INFO] [WEBSOCKET] Client disconnected: 3qbHYb8eYQTztFpLAAAQ
2025-08-02 04:11:57 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:11:57 [INFO] [WEBSOCKET] Client disconnected: YF2JiMv797DQmGOQAAAS
2025-08-02 04:11:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:11:57] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:11:57 [INFO] [WEBSOCKET] Client disconnected: 5uzypFDNq0yBEbBZAAAR
2025-08-02 04:11:57 [INFO] [WEBSOCKET] Cleaning up terminal registration: webui
2025-08-02 04:11:57 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:11:57 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:11:57 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:11:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:11:57] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:11:57 [INFO] 172.20.0.1 - - [02/Aug/2025 04:11:57] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:11:57 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:11:57 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:11:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:11:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:12:01 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:01] "OPTIONS /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:12:01 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:12:01 [INFO] Received ASP command request: WRKVOL from user: admin
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Executing command: WRKVOL
2025-08-02 04:12:01 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:12:01 [INFO] Executing ASP command: WRKVOL for user: admin
2025-08-02 04:12:01 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:01] "[35m[1mGET /socket.io/?EIO=4&transport=websocket HTTP/1.1[0m" 500 -
2025-08-02 04:12:01 [ERROR] Error on request:
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 336, in execute
    write(b"")
  File "/usr/local/lib/python3.10/site-packages/werkzeug/serving.py", line 261, in write
    assert status_set is not None, "write() before start_response"
AssertionError: write() before start_response
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Client connected: 3hx_x7Xu0Fr2S35tAAAd
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Connection details: {'session_id': '3hx_x7Xu0Fr2S35tAAAd', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:12:01.710379'}
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Client connected: Mp1DJPRdfQvIbu5vAAAe
2025-08-02 04:12:01 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Connection details: {'session_id': 'Mp1DJPRdfQvIbu5vAAAe', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:12:01.712326'}
2025-08-02 04:12:01 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Client connected: t4Qxav_Qj_iuNaLMAAAf
2025-08-02 04:12:01 [INFO] [WEBSOCKET] Connection details: {'session_id': 't4Qxav_Qj_iuNaLMAAAf', 'origin': 'http://localhost:3005', 'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36', 'remote_addr': '172.20.0.1', 'timestamp': '2025-08-02T04:12:01.731562'}
2025-08-02 04:12:01 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client Hub registration received: t4Qxav_Qj_iuNaLMAAAf
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:12:01 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client Hub registration received: t4Qxav_Qj_iuNaLMAAAf
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:12:01 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client Hub registration received: t4Qxav_Qj_iuNaLMAAAf
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] Registration data: {'terminal_id': 'webui', 'user': 'admin', 'wsname': 'WSNAME00', 'client_type': 'react_web_terminal', 'hub_version': 'v2.0'}
2025-08-02 04:12:01 [INFO] [HUB_REGISTER] React client registered successfully: webui
2025-08-02 04:12:01 [INFO] [INFO] HUB_TERMINAL: React terminal registered: webui
2025-08-02 04:12:01 [INFO] ASP command completed successfully
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:12:01 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:01] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:12:01 [INFO] ASP command completed successfully
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKVOL
2025-08-02 04:12:01 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:01] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:12:01 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:12:01 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:12:01 [INFO] Received ASP command request: WRKLIB from user: admin
2025-08-02 04:12:01 [INFO] [INFO] ASP_COMMAND: Executing command: WRKLIB
2025-08-02 04:12:01 [INFO] Executing ASP command: WRKLIB for user: admin
2025-08-02 04:12:02 [INFO] ASP command completed successfully
2025-08-02 04:12:02 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:12:02 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:02] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:12:02 [INFO] ASP command completed successfully
2025-08-02 04:12:02 [INFO] [INFO] ASP_COMMAND: Command completed successfully: WRKLIB
2025-08-02 04:12:02 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:02] "POST /api/asp-command HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Command received: CALL PGM-MAIN001.JAVA,VOL-DISK01 from terminal: webui
2025-08-02 04:12:04 [INFO] [INFO] WEBSOCKET_HUB: Command executed: CALL PGM-MAIN001.JAVA,VOL-DISK01
2025-08-02 04:12:04 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:04] "OPTIONS /api/logs HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] [INFO] ASP System Command: [CALL PGM-MAIN001.JAVA,VOL-DISK01] Command executed via WebSocket Hub
2025-08-02 04:12:04 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:04] "POST /api/logs HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "GET /socket.io/?transport=polling&EIO=4&t=1754107924.885389 HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "[31m[1mGET /socket.io/?transport=websocket&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg&t=1754107924.8895311 HTTP/1.1[0m" 400 -
2025-08-02 04:12:04 [INFO] [WEBSOCKET] Client connected: 8RQjT2Nn76oKxWmGAAAh
2025-08-02 04:12:04 [INFO] [WEBSOCKET] Connection details: {'session_id': '8RQjT2Nn76oKxWmGAAAh', 'origin': 'unknown', 'user_agent': 'python-requests/2.32.4', 'remote_addr': '127.0.0.1', 'timestamp': '2025-08-02T04:12:04.896439'}
2025-08-02 04:12:04 [INFO] [INFO] WEBSOCKET: Client connected
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "POST /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "GET /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg&t=1754107924.8936303 HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] [HUB_CLIENT_REG] Hub client registration received: 8RQjT2Nn76oKxWmGAAAh
2025-08-02 04:12:04 [INFO] [HUB_CLIENT_REG] Registration data: {'client_type': 'hub_client', 'client_id': 'hub_client_133876495479328', 'capabilities': ['smed_data_transmission'], 'timestamp': '2025-08-02T04:12:04.900951'}
2025-08-02 04:12:04 [INFO] [HUB_CLIENT_REG] Client registered successfully: hub_client_133876495479328
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "POST /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] [INFO] HUB_CLIENT: Hub client registered: hub_client_133876495479328
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "GET /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg&t=1754107924.8996701 HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Direct SMED data received: {'event': 'smed_data_direct', 'session_id': '8RQjT2Nn76oKxWmGAAAh', 'timestamp': '2025-08-02T04:12:04.911916', 'source': 'websocket_hub'}
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Processing direct SMED data: {'event': 'smed_data_direct', 'session_id': '8RQjT2Nn76oKxWmGAAAh', 'timestamp': '2025-08-02T04:12:04.911916', 'source': 'websocket_hub', 'terminal_id': 'webui', 'map_file': 'MAIN001', 'fields_count': 7, 'program_name': 'MAIN001', 'source_type': 'json'}
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Centralized SMED transmission to terminal: webui
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Active terminals: ['t4Qxav_Qj_iuNaLMAAAf', '8RQjT2Nn76oKxWmGAAAh']
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Terminal mappings: {'webui': 't4Qxav_Qj_iuNaLMAAAf'}
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Terminal webui Å® Session t4Qxav_Qj_iuNaLMAAAf Å® Room terminal_webui
2025-08-02 04:12:04 [INFO] [WEBSOCKET_HUB] Single-channel SMED data sent to room: terminal_webui
2025-08-02 04:12:04 [INFO] [INFO] WEBSOCKET_HUB: Hub transmission successful: webui
2025-08-02 04:12:04 [INFO] [INFO] WEBSOCKET_HUB: Direct SMED data processed: webui
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "POST /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg HTTP/1.1" 200 -
2025-08-02 04:12:04 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:04] "GET /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg&t=1754107924.9095936 HTTP/1.1" 200 -
2025-08-02 04:12:05 [INFO] [WEBSOCKET] Client disconnected: 8RQjT2Nn76oKxWmGAAAh
2025-08-02 04:12:05 [INFO] [WEBSOCKET] Cleaning up terminal registration: hub_client_133876495479328
2025-08-02 04:12:05 [INFO] [INFO] WEBSOCKET: Client disconnected
2025-08-02 04:12:05 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:05] "POST /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg HTTP/1.1" 200 -
2025-08-02 04:12:05 [INFO] 127.0.0.1 - - [02/Aug/2025 04:12:05] "GET /socket.io/?transport=polling&EIO=4&sid=ExiQ1HZOuk5k0AhmAAAg&t=1754107924.9162858 HTTP/1.1" 200 -
2025-08-02 04:12:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:12:58] "GET /api/logs HTTP/1.1" 200 -
2025-08-02 04:13:58 [INFO] 172.20.0.1 - - [02/Aug/2025 04:13:58] "GET /api/logs HTTP/1.1" 200 -
